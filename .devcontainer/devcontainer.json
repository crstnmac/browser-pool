{
  "name": "Browser Pool Development",
  "description": "Development container for Browser Pool - Screenshot as a Service",
  "dockerComposeFile": "docker-compose.yml",
  "service": "dev",
  "runServices": ["postgres", "redis"],
  "remoteUser": "developer",
  "features": {
    "ghcr.io/devcontainers/features/git:1": {},
    "ghcr.io/devcontainers/features/github-cli:1": {}
  },
  "forwardPorts": [3000, 5173],
  "portsAttributes": {
    "3000": {
      "label": "Backend API",
      "onAutoForward": "notify"
    },
    "5173": {
      "label": "Frontend Dev Server",
      "onAutoForward": "notify"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "biomejs.biome",
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        "ms-vscode.vscode-typescript-next",
        "prisma.prisma",
        "github.copilot",
        "eamodio.gitlens",
        "ms-docker.docker",
        "ms-vscode-remote.remote-containers",
        "ms-vscode-remote.remote-ssh",
        "ms-vscode-remote.vscode-remote-extensibility-pack"
      ],
      "settings": {
        "typescript.tsdk": "node_modules/typescript/lib",
        "typescript.enablePromptUseWorkspaceTsdk": true,
        "typescript.useModuleResolution": "node",
        "typescript.workspace.symbolsInWorkspaceSymbolsScope": true,
        "typescript.check.npmIsInstalled": false,
        "typescript.preferences.importModuleSpecifierEnding": "js",
        "bun.runtime": "bun",
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "biomejs.biome",
        "[typescript]": {
          "editor.defaultFormatter": "biomejs.biome",
          "editor.codeActionsOnSave": {
            "quickfix.biome": "explicit"
          }
        },
        "[typescriptreact]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "[javascript]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "[json]": {
          "editor.defaultFormatter": "biomejs.biome"
        },
        "editor.rulers": [80, 100],
        "files.exclude": {
          "**/node_modules": true,
          "**/dist": true,
          "**/.bun": true,
          "**/.turbo": true
        },
        "files.watcherExclude": {
          "**/node_modules/**": true,
          "**/.git/**": true,
          "**/dist/**": true,
          "**/.next/**": true,
          "**/coverage/**": true
        },
        "search.exclude": {
          "**/node_modules": true,
          "**/.git": true,
          "**/dist": true,
          "**/frontend/dist": true,
          "**/.next": true
        }
      }
    }
  },
  "mounts": [
    "type=bind,source=${localEnv:HOME}/.ssh,target=/home/developer/.ssh,readonly"
  ],
  "remoteEnv": {
    "NODE_ENV": "development",
    "FORCE_COLOR": "1"
  },
  "containerEnv": {
    "DOCKER_BUILDKIT": "1",
    "COMPOSE_DOCKER_CLI_BUILD": "1"
  },
  "postCreateCommand": "bash /workspaces/browser-pool/.devcontainer/post-create.sh",
  "postStartCommand": "bash /workspaces/browser-pool/.devcontainer/post-start.sh",
  "workspaceFolder": "/workspaces/browser-pool"
}
