# Production Environment Configuration
# Copy this file to .env and fill in your actual values

# Application
NODE_ENV=production
PORT=3000

# SECURITY: REQUIRED in production
# Comma-separated list of allowed origins for CORS
# Examples:
#   Single origin: ORIGIN_URL=https://app.example.com
#   Multiple: ORIGIN_URL=https://app.example.com,https://dashboard.example.com
#   Wildcard subdomain: ORIGIN_URL=*.example.com,https://example.com
ORIGIN_URL=https://your-frontend-domain.com

# Database
DATABASE_URL=postgresql://user:password@host:5432/browser_pool?schema=public

# Redis - REQUIRED for production (distributed rate limiting)
REDIS_URL=redis://username:password@redis-host:6379/0

# Authentication
# SECURITY: Generate a strong random secret (minimum 32 characters)
# Example: openssl rand -base64 32
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_MIN_32_CHARS

API_KEY_PREFIX=bp_

# Rate Limiting (requests per minute per user)
RATE_LIMIT_FREE=5
RATE_LIMIT_PRO=30
RATE_LIMIT_ENTERPRISE=100

# IP-Based Rate Limiting (requests per minute per IP)
# Protects against DoS attacks
IP_RATE_LIMIT=1000

# Quotas (requests per month)
QUOTA_FREE=100
QUOTA_PRO=5000
QUOTA_ENTERPRISE=100000

# Security Configuration
# Maximum request body size in bytes (1MB = 1048576)
MAX_BODY_SIZE=1048576

# Request timeout in milliseconds (30 seconds = 30000)
REQUEST_TIMEOUT=30000

# Dodo Payments
DODO_API_KEY=your-actual-dodo-api-key
DODO_API_URL=https://api.dodo.com/v1
DODO_WEBHOOK_SECRET=your-actual-dodo-webhook-secret
DODO_PRICE_ID_PRO=your-actual-pro-price-id
DODO_PRICE_ID_ENTERPRISE=your-actual-enterprise-price-id

# Browser Pool Configuration
BROWSER_POOL_SIZE=10
BROWSER_IDLE_TIMEOUT=300000

# Email Configuration - RECOMMENDED for production
EMAIL_ENABLED=true
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password
EMAIL_FROM=Browser Pool <noreply@your-domain.com>

# Production Checklist:
# [ ] ORIGIN_URL is set to your actual domain(s)
# [ ] JWT_SECRET is a strong random string (32+ chars)
# [ ] Redis is configured and accessible
# [ ] Database connection string is correct
# [ ] Dodo Payments credentials are valid
# [ ] Email is configured (or disabled if not needed)
# [ ] All "your-actual-*" placeholders are replaced
